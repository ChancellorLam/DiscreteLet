<div class="main-page-container">
  <div class="card flex justify-content-center">

    
    <p-accordion [(value)]="activeTabs" multiple="true">

      <div class="card">

        
        <p-tabs [(value)]="activeTab">

         
          <p-tablist>
            <p-tab value="0">Lessons</p-tab>
            <p-tab value="1">Quiz</p-tab>
            <p-tab value="2">Unit Test</p-tab>
          </p-tablist>

          
          <p-tabpanels>

            
            <p-tabpanel value="0">

              <h3>
                Counting Principles Lessons
                <p-button
                  (click)="toggleAll()"
                  styleClass="p-button-text"
                  [label]="isExpanded ? 'Collapse All' : 'Expand All'">
                </p-button>
              </h3>

              
              <p-accordion-panel value="0">
                <p-accordion-header>
                  <div class="topic-header header-font-size">
                    I. Basic Counting Principle
                  </div>
                </p-accordion-header>

                <p-accordion-content>
                  <div class="indent-content">

                    <h3>What Is the Counting Principle?</h3>
                    <p>
                      If one action can be completed in <b>m</b> ways and another in <b>n</b> ways,
                      then both actions together can be completed in:
                      <br><br><b>m × n total ways.</b>
                    </p>

                    <h3>Why This Matters</h3>
                    <p>
                      It forms the foundation of all multi-step counting methods in discrete math.
                    </p>

                    <h3>Simple Example</h3>
                    <ul>
                      <li>3 shirts</li>
                      <li>2 pants</li>
                      </ul>
                      <p>
                        Total outfits = <b>3 x 2 = 6</b>
                      </p>
                      

                    <h3>Worked Example</h3>
                    <p>
                      A code has one letter (A–D) and one digit (0–9).
                      <br><br>
                      Total possible codes = <b>4 × 10 = 40</b>.
                    </p>

                    <h3>Practice Problems</h3>
                    <ul>
                      <li>5 sandwiches × 3 drinks = ?</li>
                      <li>4 clubs × 6 sports = ?</li>
                      <li>Two letters (26 choices each) × 3 digits = ?</li>
                    </ul>

                  </div>
                </p-accordion-content>
              </p-accordion-panel>

              
              <p-accordion-panel value="1">
                <p-accordion-header>
                  <div class="topic-header header-font-size">
                    II. Factorials
                  </div>
                </p-accordion-header>

                <p-accordion-content>
                  <div class="indent-content">

                    <h3>What Is a Factorial?</h3>
                    <p>
                      Factorials count the number of ways to arrange <b>n distinct objects</b>.
                      <br><br>
                      <b>n! = n × (n − 1) × ... × 1</b>
                    </p>

                    <h3>Worked Example</h3>
                    <p>
                      How many ways can 5 students line up?
                      <br><br><b>5! = 120</b>
                    </p>

                    <h3>Practice Problems</h3>
                    <ul>
                      <li>Compute 6!</li>
                      <li>Arrange 7 books</li>
                      <li>8 runners finishing</li>
                    </ul>

                    <h3>Factorial Calculator</h3>
                    <div class="button-row">
                      <p-inputnumber [(ngModel)]="factorialInput"></p-inputnumber>
                      <p-button
                        (click)="onFactorialCalculate()"
                        styleClass="p-button-text"
                        label="Compute">
                      </p-button>
                    </div>

                    <div class="interactiveToolText">
                      Result: {{ factorialResult }}
                    </div>

                  </div>
                </p-accordion-content>
              </p-accordion-panel>

              
              <p-accordion-panel value="2">
                <p-accordion-header>
                  <div class="topic-header header-font-size">
                    III. Permutations
                  </div>
                </p-accordion-header>

                <p-accordion-content>
                  <div class="indent-content">

                    <h3>What Is a Permutation?</h3>
                    <p>
                      A permutation is an <b>ordered selection</b> of r items from n.
                      Order matters.
                    </p>

                    <h3>Worked Example</h3>
                    <p>
                      Choose 3 officers from 6 students:
                      <br><br><b>P(6, 3) = 6 × 5 × 4 = 120</b>
                    </p>

                    <h3>Practice Problems</h3>
                    <ul>
                      <li>3-letter codes from 8 letters</li>
                      <li>Top 3 runners from 5</li>
                      <li>Arrange 4 books chosen from 10</li>
                    </ul>

                    <h3>Permutation Calculator</h3>
                    <div class="button-row">
                      <p-inputnumber [(ngModel)]="permN" placeholder="n"></p-inputnumber>
                      <p-inputnumber [(ngModel)]="permR" placeholder="r"></p-inputnumber>
                      <p-button
                        (click)="onPermutationCalculate()"
                        styleClass="p-button-text"
                        label="Compute">
                      </p-button>
                    </div>

                    <div class="interactiveToolText">
                      Result: {{ permResult }}
                    </div>

                  </div>
                </p-accordion-content>
              </p-accordion-panel>
             
              <p-accordion-panel value="3">
                <p-accordion-header>
                  <div class="topic-header header-font-size">
                    IV. Combinations
                  </div>
                </p-accordion-header>

                <p-accordion-content>
                  <div class="indent-content">

                    <h3>What Is a Combination?</h3>
                    <p>
                      Combinations count the number of <b>unordered selections</b>.
                      Order does NOT matter.
                    </p>

                    <h3>Worked Example</h3>
                    <p>
                      Choose 3 from 10:
                      <br><br><b>C(10, 3) = 120</b>
                    </p>

                    <h3>Practice Problems</h3>
                    <ul>
                      <li>Choose 4 from 12</li>
                      <li>6-number lottery from 49</li>
                      <li>Select 5 songs from 15</li>
                    </ul>

                    <h3>Combination Calculator</h3>
                    <div class="button-row">
                      <p-inputnumber [(ngModel)]="combN" placeholder="n"></p-inputnumber>
                      <p-inputnumber [(ngModel)]="combR" placeholder="r"></p-inputnumber>
                      <p-button
                        (click)="onCombinationCalculate()"
                        styleClass="p-button-text"
                        label="Compute">
                      </p-button>
                    </div>

                    <div class="interactiveToolText">
                      Result: {{ combResult }}
                    </div>

                  </div>
                </p-accordion-content>
              </p-accordion-panel>

              
              <p-accordion-panel value="4">
                <p-accordion-header>
                  <div class="topic-header header-font-size">
                    V. Subsets & Power Sets
                  </div>
                </p-accordion-header>

                <p-accordion-content>
                  <div class="indent-content">

                    <h3>What Is a Subset?</h3>
                    <p>
                      A set with <b>n elements</b> has <b>2ⁿ subsets</b>.
                    </p>

                    <h3>Worked Example</h3>
                    <p>
                      Consider the set &#123;a, b, c&#125;.
                      <br><br>
                      It has <b>2³ = 8</b> subsets.
                    </p>

                    <h3>Practice Problems</h3>
                    <ul>
                      <li>How many subsets does a 4-element set have?</li>
                      <li>List all subsets of &#123;1, 2&#125;</li>
                      <li>How many subsets does a 10-element set have?</li>
                    </ul>

                  </div>
                </p-accordion-content>
              </p-accordion-panel>

            </p-tabpanel>

            
            <p-tabpanel value="1">

              <h3>Counting Quiz</h3>

              
              <div class="quiz-refresh-container" style="margin-bottom: 1rem;">
                <p-button
                  label="New Questions"
                  styleClass="p-button-outlined"
                  (click)="refreshCountingQuiz()">
                </p-button>
              </div>

              <app-quiz [questions]="countingQuestions"></app-quiz>

            </p-tabpanel>

            
            <p-tabpanel value="2">

              <h3>Counting Unit Test</h3>

              
              <div style="margin-bottom: 1rem;">
                <p-button
                  label="Start New Unit Test"
                  styleClass="p-button-outlined"
                  (click)="startUnitTest()">
                </p-button>
              </div>

              
              <div *ngIf="showUnitTest">

                <app-unit-test-template
                  #unitTestComponent
                  [config]="countingUnitTestConfig">
                </app-unit-test-template>

              </div>

            </p-tabpanel>

          </p-tabpanels>

        </p-tabs>

      </div>

    </p-accordion>

  </div>
</div>
